{"ast":null,"code":"import _regeneratorRuntime from\"F:\\\\webdevjects\\\\nlss-timer\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webdevjects\\\\nlss-timer\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"F:\\\\webdevjects\\\\nlss-timer\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"F:\\\\webdevjects\\\\nlss-timer\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webdevjects\\\\nlss-timer\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"F:\\\\webdevjects\\\\nlss-timer\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"F:\\\\webdevjects\\\\nlss-timer\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"F:\\\\webdevjects\\\\nlss-timer\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"F:\\\\webdevjects\\\\nlss-timer\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";// twitch = this.props.user[0]\n// twitter = this.props.user[1]\n// youtube = this.props.user[2]\nimport React from'react';import'./css/StreamInfo.css';import twittersvg from\"./images/twitter.svg\";import youtubesvg from\"./images/youtube.svg\";var api=require('twitch-helix-api');api.clientID='ew5y8dnvd35deca2cqe9ap0ol4hgjy';var live='Live';var offline='Offline';var status=offline;var streamInfo;var StreamInfo=/*#__PURE__*/function(_React$Component){_inherits(StreamInfo,_React$Component);function StreamInfo(){var _getPrototypeOf2,_this$state;var _this;_classCallCheck(this,StreamInfo);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(StreamInfo)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state=(_this$state={},_defineProperty(_this$state,_this.props.user[0],offline),_defineProperty(_this$state,\"game\",undefined),_defineProperty(_this$state,\"title\",undefined),_this$state);_this.checkLive=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(streamer){var thisState;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:thisState=_assertThisInitialized(_this);api.streams.getStreams({user_login:streamer}).then(function(data){if(data.response.data[0]){streamInfo=data.response.data[0];var un=streamInfo.user_name.toLowerCase();thisState.setState({title:streamInfo.title});api.games.getGames({id:streamInfo.game_id}).then(function(data){thisState.setState({game:data.response.data[0].name});});status=live;thisState.setState(_defineProperty({},un,live));}});case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.getGame=function(){var thisState=_assertThisInitialized(_this);if(status===live){return React.createElement(\"div\",{className:\"stream-info\"},thisState.game);}else{return React.createElement(\"a\",{class:\"twitter-timeline\",href:\"https://twitter.com/northernlionlp\",\"data-width\":\"250\",\"data-height\":\"150\"});}};return _this;}_createClass(StreamInfo,[{key:\"componentDidMount\",value:function componentDidMount(){this.checkLive(this.props.user[0]);}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:'stream-container bold center '+status},React.createElement(\"a\",{href:'https://twitch.tv/'+this.props.user[0]},React.createElement(\"h1\",{className:\"user\"},this.props.user[0].toUpperCase())),React.createElement(\"div\",{className:\"stream-info-container\"},React.createElement(\"a\",{href:'https://twitter.com/'+this.props.user[1]},React.createElement(\"img\",{className:\"icon\",src:twittersvg,alt:\"twitter\"}),\" \"),React.createElement(\"div\",null,this.state[this.props.user[0]]),React.createElement(\"a\",{href:'https://youtube.com/'+this.props.user[2]},React.createElement(\"img\",{className:\"icon\",src:youtubesvg,alt:\"youtube\"}))),React.createElement(\"hr\",null),React.createElement(\"div\",{className:\"stream-title\"},this.state.title),React.createElement(\"div\",{className:\"stream-title\"},this.state.game));}}]);return StreamInfo;}(React.Component);export default StreamInfo;","map":{"version":3,"sources":["F:/webdevjects/nlss-timer/src/components/StreamInfo.js"],"names":["React","api","require","clientID","live","offline","status","streamInfo","StreamInfo","state","props","user","undefined","checkLive","streamer","thisState","streams","getStreams","user_login","then","data","response","un","user_name","toLowerCase","setState","title","games","getGames","id","game_id","game","name","getGame","toUpperCase","twittersvg","youtubesvg","Component"],"mappings":"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","sourcesContent":["// twitch = this.props.user[0]\r\n// twitter = this.props.user[1]\r\n// youtube = this.props.user[2]\r\n\r\nimport React from 'react';\r\nimport './css/StreamInfo.css';\r\n\r\nimport twittersvg from './images/twitter.svg';\r\nimport youtubesvg from './images/youtube.svg';\r\n\r\nconst api = require('twitch-helix-api');\r\n\r\napi.clientID = 'ew5y8dnvd35deca2cqe9ap0ol4hgjy'\r\n\r\nlet live = 'Live';\r\nlet offline = 'Offline';\r\nlet status = offline;\r\n\r\nlet streamInfo;\r\n\r\nclass StreamInfo extends React.Component {\r\n\r\n    state = { [this.props.user[0]]: offline, game: undefined, title: undefined};\r\n\r\n    componentDidMount() {\r\n        this.checkLive(this.props.user[0])\r\n    }\r\n    \r\n    checkLive = async streamer => {\r\n        let thisState = this\r\n\r\n        api.streams.getStreams({user_login: streamer}).then(function(data) {\r\n            if(data.response.data[0]) {\r\n                streamInfo = data.response.data[0];\r\n                let un = streamInfo.user_name.toLowerCase();\r\n\r\n                thisState.setState({title: streamInfo.title})\r\n\r\n                api.games.getGames({id: streamInfo.game_id}).then(function(data) {\r\n                    thisState.setState({game: data.response.data[0].name})\r\n                })\r\n\r\n                status = live;\r\n                \r\n                thisState.setState({[un]: live});\r\n            }\r\n        });\r\n    }\r\n \r\n    getGame = () => {\r\n        let thisState = this\r\n\r\n        if(status === live) {\r\n            return <div className=\"stream-info\">{thisState.game}</div>\r\n        }\r\n\r\n        else {\r\n            return (\r\n                <a class=\"twitter-timeline\"\r\n                    href=\"https://twitter.com/northernlionlp\"\r\n                    data-width=\"250\"\r\n                    data-height=\"150\">\r\n                </a>\r\n            )\r\n        }\r\n        \r\n    }    \r\n\r\n    render(){\r\n        return(\r\n            <div className={'stream-container bold center ' + status}>\r\n                <a href={'https://twitch.tv/' + this.props.user[0]}><h1 className='user'>{this.props.user[0].toUpperCase()}</h1></a>\r\n                <div className=\"stream-info-container\">\r\n                    <a href={'https://twitter.com/' + this.props.user[1]}><img className=\"icon\" src={twittersvg} alt=\"twitter\"/> </a>\r\n                    <div>{this.state[this.props.user[0]]}</div>\r\n                    <a href={'https://youtube.com/' + this.props.user[2]}><img className=\"icon\" src={youtubesvg} alt=\"youtube\" /></a>\r\n                </div>\r\n                \r\n                <hr />\r\n                <div className=\"stream-title\">{this.state.title}</div>\r\n                <div className=\"stream-title\">{this.state.game}</div>\r\n            </div>\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nexport default StreamInfo;"]},"metadata":{},"sourceType":"module"}